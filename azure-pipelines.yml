trigger:
- main  # or whatever branch youâ€™re using

pool:
  name: 'Default'  # your self-hosted pool name

steps:
# --- Step 1: Check the code ---
- script: echo "Starting build on self-hosted agent..."
  displayName: "Initialize"

# --- Step 3: Install dependencies ---
- script: |
    python -m venv venv
    source venv/bin/activate
    pip install -r requirements.txt
  displayName: "Install dependencies"

# --- Step 4: Run Flask app (for test/demo) ---
- script: |
    source venv/bin/activate
    python app.py &
    sleep 10
    curl http://127.0.0.1:5000
  displayName: "Run Flask app and test response"
